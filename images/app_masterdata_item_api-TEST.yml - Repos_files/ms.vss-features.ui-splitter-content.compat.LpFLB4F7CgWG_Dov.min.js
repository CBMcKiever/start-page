"use strict";define("VSSUI",["require","exports","react","VSS/Core/EventManagement"],function(e,t,i,n){var r,o;!function(e){r=t.ComponentsSplitterSplitter={},Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function r(t,i){var r=e.call(this,t,i)||this;return r._onDividerKeyDown=function(e){var t=r.props,i=t.disabled,n=t.splitterDirection;if(!i&&!r._isDragging){switch(e.keyCode){case 37:0===n&&r._moveDivider(0);break;case 39:0===n&&r._moveDivider(1);break;case 38:1===n&&r._moveDivider(0);break;case 40:1===n&&r._moveDivider(1);break;default:return}e.preventDefault(),e.stopPropagation()}},r._onDividerMouseDown=function(e){var t=r.props.disabled,i=r.state.fixedSize;if(r._fixedRef&&!t){e.preventDefault(),e.stopPropagation(),r._dragAnchorPos=r._getEventBoundedClientPos(e),r._previousFixedSize=r._getElementSize(r._fixedRef);var n=r._getNewFixedSize(r._previousFixedSize,r._dragAnchorPos);i!==n&&r.setState({placeholderPosition:void 0,fixedSize:n}),r._attachWindowEvents(),r._handleDragMouseEvent(e)}},r._onDividerMouseMove=function(e){r._handleDragMouseEvent(e)},r._onDividerMouseUp=function(e){r._detachWindowEvents();var t=r._getEventBoundedClientPos(e),i=r._getNewFixedSize(r._previousFixedSize,r._dragAnchorPos,t);r.setState({placeholderPosition:void 0}),r._setFixedSize(i),r._fireWindowResize()},r.events=new n.EventManagement,r.state={fixedSize:t.fixedSize||t.initialFixedSize,placeholderPosition:void 0,showDivider:r._shouldShowDivider(t)},r}return __extends(r,e),r.prototype.componentWillReceiveProps=function(e){var t=this._shouldShowDivider(e);t!==this.state.showDivider&&this.setState({showDivider:t}),this.props.fixedSize!==e.fixedSize?null!=e.fixedSize?this.setState({fixedSize:this._getNewFixedSize(e.fixedSize,0,0,e)}):null!=this.props.fixedSize&&this.setState({fixedSize:this._getNewFixedSize(this.props.fixedSize,0,0,e)}):this.props.splitterDirection===e.splitterDirection&&this.props.minFixedSize===e.minFixedSize&&this.props.maxFixedSize===e.maxFixedSize||this.setState({fixedSize:this._getNewFixedSize(this.state.fixedSize,0,0,e)})},r.prototype.componentDidMount=function(){this._fireWindowResize()},r.prototype.componentWillUnmount=function(){this.events.removeAllListeners()},r.prototype.render=function(){var e=this,n=this.props,r=n.className,o=n.splitterDirection;return i.createElement("div",{className:t.Util.css(r,"vss-Splitter--container",0===o&&"vss-Splitter--container-row",1===o&&"vss-Splitter--container-column",this._isDragging&&"vss-Splitter--container-dragging"),ref:function(t){return e._splitterContainer=t}},this._renderNearElement(),this._renderDivider(),this._renderDragPlaceHolder(),this._renderFarElement())},r.prototype._renderNearElement=function(){var e=this.props,t=e.fixedElement,i=e.onRenderNearElement,n=e.nearElementClassName;if(this._isDragging&&this._cachedNearElement)return this._cachedNearElement;if(this._cachedNearElement=null,i){var r=i();return this._cachedNearElement=0===t?this._renderFixedPane(r,n):this._renderFlexiblePane(r,n),this._cachedNearElement}},r.prototype._renderFarElement=function(){var e=this.props,t=e.fixedElement,i=e.onRenderFarElement,n=e.farElementClassName;if(this._isDragging&&this._cachedFarElement)return this._cachedFarElement;if(this._cachedFarElement=null,i){var r=i();return this._cachedFarElement=1===t?this._renderFixedPane(r,n):this._renderFlexiblePane(r,n),this._cachedFarElement}},r.prototype._renderFixedPane=function(e,n){var r,o=this,s=this.props,a=s.minFixedSize,d=s.maxFixedSize,l=s.splitterDirection,p=this.state.fixedSize;r=p||(null!=a?a:null!=d?d:"50%");var h=0===l?{width:r}:{height:r};if(e)return i.createElement("div",{className:t.Util.css("vss-Splitter--pane-fixed",n),style:h,ref:function(e){return o._fixedRef=e}},e)},r.prototype._renderFlexiblePane=function(e,n){return i.createElement("div",{className:t.Util.css("vss-Splitter--pane-flexible",n)},e)},r.prototype._renderDivider=function(){var e=this.props,n=(e.fixedElement,e.minFixedSize,e.maxFixedSize,this.state),r=n.fixedSize;if(!n.showDivider)return null;var o=this._getSplitterBoundaries(),s=o.startBound,a=o.endBound;return i.createElement("div",{"aria-valuemin":s,"aria-valuemax":a,"aria-valuenow":r,role:"separator",tabIndex:0,className:t.Util.css("vss-Splitter--divider",this._isDragging&&"vss-Splitter--divider-dragging"),onKeyDown:this._onDividerKeyDown,onMouseDown:this._onDividerMouseDown})},r.prototype._renderDragPlaceHolder=function(){var e=this.props.splitterDirection,t=this.state.placeholderPosition,n=0===e?{left:t}:{top:t};if(this._isDragging)return i.createElement("div",{className:"vss-Splitter--drag-placeholder",style:n})},r.prototype._handleDragMouseEvent=function(e){var t=this.props.fixedElement,i=this.state.placeholderPosition;e.preventDefault(),e.stopPropagation();var n=this._getEventBoundedClientPos(e),r=this._getNewFixedSize(this._previousFixedSize,this._dragAnchorPos,n);r!==i&&this.setState({placeholderPosition:0===t?r:this._getElementSize(this._splitterContainer)-r-4})},r.prototype._setFixedSize=function(e){var t=this.props,i=t.fixedSize,n=t.onFixedSizeChanged;null==i&&this.setState({fixedSize:e}),n&&n(e)},r.prototype._moveDivider=function(e){var t,i=this._getElementSize(this._fixedRef);switch(e){case 0:t=this._getNewFixedSize(i,20,0);break;case 1:t=this._getNewFixedSize(i,0,20);break;default:return}this._setFixedSize(t),this._fireWindowResize()},r.prototype._attachWindowEvents=function(){this.events.addEventListener(window,"mousemove",this._onDividerMouseMove),this.events.addEventListener(window,"mouseup",this._onDividerMouseUp)},r.prototype._detachWindowEvents=function(){this.events.removeEventListener(window,"mousemove",this._onDividerMouseMove),this.events.removeEventListener(window,"mouseup",this._onDividerMouseUp)},r.prototype._getEventBoundedClientPos=function(e){var t;switch(this.props.splitterDirection){case 0:t=e.clientX;break;case 1:t=e.clientY;break;default:t=0}return this._getBoundedClientPos(t)},r.prototype._getBoundedClientPos=function(e,t){void 0===t&&(t=this.props);t.fixedElement,t.minFixedSize,t.maxFixedSize;var i=this._getSplitterBoundaries(),n=i.startBound,r=i.endBound;return Math.max(n,Math.min(e,r))-this._getElementStartPos(this._splitterContainer,t)},r.prototype._getSplitterBoundaries=function(e){void 0===e&&(e=this.props);var t=e.fixedElement,i=e.minFixedSize,n=e.maxFixedSize;if(!this._splitterContainer)return{startBound:0,endBound:0};var r=this._getElementStartPos(this._splitterContainer,e),o=r+this._getElementSize(this._splitterContainer,e);return{startBound:0===t?i?r+i:r:n?o-n:r,endBound:0===t?n?r+n:o:i?o-i:o}},r.prototype._getNewFixedSize=function(e,t,i,n){void 0===i&&(i=t),void 0===n&&(n=this.props);var r=n.fixedElement,o=n.minFixedSize,s=void 0===o?0:o,a=n.maxFixedSize,d=void 0===a?this._getElementSize(this._splitterContainer):a,l=i-t;1===r&&(l*=-1);var p=e+l;return Math.max(s,Math.min(d,p))},Object.defineProperty(r.prototype,"_isDragging",{get:function(){return null!=this.state.placeholderPosition},enumerable:!0,configurable:!0}),r.prototype._getElementSize=function(e,t){switch(void 0===t&&(t=this.props),t.splitterDirection){case 0:return e.clientWidth;case 1:return e.clientHeight;default:return 0}},r.prototype._getElementStartPos=function(e,t){void 0===t&&(t=this.props);var i=t.splitterDirection,n=e.getBoundingClientRect();switch(i){case 0:return n.left;case 1:return n.top;default:return 0}},r.prototype._shouldShowDivider=function(e){var t=e.onRenderFarElement,i=e.onRenderNearElement;switch(e.fixedElement){case 0:return!!i;case 1:return!!t}},r.prototype._fireWindowResize=function(){var e=document.createEvent("Event");e.initEvent("resize",!1,!0),window.dispatchEvent(e)},r}(i.Component);o.defaultProps={fixedElement:1,splitterDirection:0},t.ComponentsSplitterSplitter.Splitter=o}(),function(e){o=t[e]={},Object.defineProperty(t,"__esModule",{value:!0}),function(i){for(var n in i)t[e].hasOwnProperty(n)||(t[e][n]=i[n])}(r)}("ComponentsSplitterindex"),function(e){t[e]={},Object.defineProperty(t,"__esModule",{value:!0}),function(i){for(var n in i)t[e].hasOwnProperty(n)||(t[e][n]=i[n])}(o)}("Splitter")},["Components/Splitter/Splitter","Components/Splitter/index","Splitter"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.ui-splitter-content"}}));